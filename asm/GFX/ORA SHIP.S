NEW

10 HGR : HPLOT 100,100 : CALL 62454
20 POKE -16304,0 : REM (HGR without wiping)
30 TVERT = 100 : H=10 : POKE 24577,H : REM H = HORIZ $6001
40 GOTO 70
50 POKE 24576,PS
60 CALL 24589
70 PS = TVERT
85 POKE 24576,PS
90 CALL 24582
95 H = H + 1
96 REM POKE 24577,H
97 REM POKE 24578,H
100 FOR DE=1 TO 1: NEXT DE
110 PRINT STR$(TVERT)+" "+STR$(H)
120 TVERT = INT(TVERT + RND(1)*4-1.5) : REM TVERT = PDL(1)
130 IF TVERT>183 THEN TVERT = 183
140 IF TVERT<0 THEN TVERT = 0
150 GOTO 50

CALL -151

6000: 00 00 00 00 00 00 20 6D
6008: 60 20 14 60 60 20 6D 60
6010: 20 39 60 60 AC 00 60 20
6018: 56 60 A2 00 B1 1A 81 1E
6020: A1 1C 11 1A 91 1A E6 1E
6028: E6 1C C8 CE 04 60 D0 EC
6030: EE 00 60 CE 02 60 D0 DC
6038: 60 AC 00 60 20 56 60 A2
6040: 00 A1 1E 91 1A E6 1E C8
6048: CE 04 60 D0 F4 EE 00 60
6050: CE 02 60 D0 E4 60 B9 90
6058: 60 18 6D 01 60 85 1A B9
6060: 50 61 85 1B AD 05 60 8D
6068: 04 60 A0 00 60 A9 10 85
6070: 1C A9 62 85 1D A9 28 85
6078: 1E A9 62 85 1F A9 08 8D
6080: 02 60 A9 09 8D 01 60 A9
6088: 03 8D 04 60 8D 05 60 60
6090: 00 00 00 00 00 00 00 00
6098: 80 80 80 80 80 80 80 80
60A0: 00 00 00 00 00 00 00 00
60A8: 80 80 80 80 80 80 80 80
60B0: 00 00 00 00 00 00 00 00
60B8: 80 80 80 80 80 80 80 80
60C0: 00 00 00 00 00 00 00 00
60C8: 80 80 80 80 80 80 80 80
60D0: 28 28 28 28 28 28 28 28
60D8: A8 A8 A8 A8 A8 A8 A8 A8
60E0: 28 28 28 28 28 28 28 28
60E8: A8 A8 A8 A8 A8 A8 A8 A8
60F0: 28 28 28 28 28 28 28 28
60F8: A8 A8 A8 A8 A8 A8 A8 A8
6100: 28 28 28 28 28 28 28 28
6108: A8 A8 A8 A8 A8 A8 A8 A8
6110: 50 50 50 50 50 50 50 50
6118: D0 D0 D0 D0 D0 D0 D0 D0
6120: 50 50 50 50 50 50 50 50
6128: D0 D0 D0 D0 D0 D0 D0 D0
6130: 50 50 50 50 50 50 50 50
6138: D0 D0 D0 D0 D0 D0 D0 D0
6140: 50 50 50 50 50 50 50 50
6148: D0 D0 D0 D0 D0 D0 D0 D0
6150: 20 24 28 2C 30 34 38 3C
6158: 20 24 28 2C 30 34 38 3C
6160: 21 25 29 2D 31 35 39 3D
6168: 21 25 29 2D 31 35 39 3D
6170: 22 26 2A 2E 32 36 3A 3E
6178: 22 26 2A 2E 32 36 3A 3E
6180: 23 27 2B 2F 33 37 3B 3F
6188: 23 27 2B 2F 33 37 3B 3F
6190: 20 24 28 2C 30 34 38 3C
6198: 20 24 28 2C 30 34 38 3C
61A0: 21 25 29 2D 31 35 39 3D
61A8: 21 25 29 2D 31 35 39 3D
61B0: 22 26 2A 2E 32 36 3A 3E
61B8: 22 26 2A 2E 32 36 3A 3E
61C0: 23 27 2B 2F 33 37 3B 3F
61C8: 23 27 2B 2F 33 37 3B 3F
61D0: 20 24 28 2C 30 34 38 3C
61D8: 20 24 28 2C 30 34 38 3C
61E0: 21 25 29 2D 31 35 39 3D
61E8: 21 25 29 2D 31 35 39 3D
61F0: 22 26 2A 2E 32 36 3A 3E
61F8: 22 26 2A 2E 32 36 3A 3E
6200: 23 27 2B 2F 33 37 3B 3F
6208: 23 27 2B 2F 33 37 3B 3F
6210: 80 00 00 82 00 00 82 00
6218: 00 8A 00 00 AA D5 80 AA
6220: 95 82 AA D5 8A A8 D5 AA
6228: 00 00 00 00 00 00 00 00
6230: 00 00 00 00 00 00 00 00
6238: 00 00 00 00 00 00 00 00

E003G



------

; LAST BUILD 11-MAR-2025

; ****** CODE FOR EOR SHIP ******

ORG $6000
TVERT HEX 00
HORIZ HEX 00
DEPTH HEX 00
LNGH  HEX 00
SLNGH HEX 00
TEMP  HEX 00
HIRESL EQU $1A
HIRESH EQU $1B
SSHPL  EQU $1C
SSHPH  EQU $1D
BACKL  EQU $1E
BACKH  EQU $1F

START   JSR SSETUP
        JSR SDRW        ;DRAW_SHIP_WHILE_SAVING_BACKGROUND
        RTS
        JSR SSETUP
        JSR BKDRW       ;REPLACE_BACKGROUND__
        RTS
SDRW    LDY TVERT       ;PADDLE_VALUE
        JSR GETADR
        LDX #$00        ;NEED_0_IN_X_REG._FOR_INDEX
SDRW2   LDA (HIRESL),Y  ;LOAD_BYTE_ON_SCREEN
        STA (BACKL,X)   ;STORE_BACKGROUND_TABLE__
        LDA (SSHPL,X)   ;LOAD_BYTE_FROM_SHIP_SHAPE_TABLE
        ORA (HIRESL),Y  ;ORA_AGAINST_SCREEN__
        STA (HIRESL),Y  ;STORE_RESULT_ON_SCREEN
        INC *BACKL      ;NEXT_BYTE_IN_BACKGROUND_TABLE
        INC *SSHPL      ;NEXT_BYTE_IN_SHAPE_TABLE
        INY             ;NEXT_SCREEN_POSITION_IN_ROW
        DEC SLNGH       ;DECREMENT_WIDTH
        BNE SDRW2       ;FINISHED_WITH_ROW?
        INC TVERT       ;IF_SO,_INCREMENT_TO_NEXT_LINE
        DEC DEPTH       ;DECREMENT_ROW
        BNE SDRW        ;FINISHED_ALL_ROWS?
        RTS

BKDRW   LDY TVERT       ;PADDLE_VALUE
        JSR GETADR
        LDX #$00        ;NEED_0_IN_X_REG._FOR_INDEX
BKDRW2  LDA (BACKL,X)  ;LOAD_BYTE_FROM_BACKGROUND_TABLE__
        STA (HIRESL),Y  ;STORE_ON_HIRES_SCREEN__
        INC *BACKL      ;NEXT_BYTE_IN_SHAPE_TABLE
        INY             ;NEXT_SCREEN_POSITION_IN_ROW
        DEC SLNGH       ;DECREMENT_WIDTH
        BNE BKDRW2      ;FINISHED_WITH_ROW?
        INC TVERT       ;IF_SO,_INCREMENT_TO_NEXT_LINE
        DEC DEPTH       ;DECREMENT_ROW
        BNE BKDRW       ;FINISHED_ALL_ROWS?
        RTS

GETADR  LDA YVERTL,Y
        CLC
        ADC HORIZ
        STA *HIRESL
        LDA YVERTH,Y
        STA *HIRESH
        LDA TEMP
        STA SLNGH
        LDY #$00
        RTS
SSETUP  LDA #<SHIP
        STA *SSHPL
        LDA #>SHIP
        STA *SSHPH
        LDA #<BACKGRD   ;N__
        STA *BACKL      ;N__
        LDA #>BACKGRD   ;N__
        STA *BACKH      ;N__
        LDA #$08
        STA DEPTH
        LDA #$09
        STA HORIZ
        LDA #$03
        STA SLNGH
        STA TEMP
        RTS

YVERTL  HEX 0000000000000000 ;L57
        HEX 8080808080808080 ;L58
        HEX 0000000000000000 ;L59
        HEX 8080808080808080 ;L60
        HEX 0000000000000000 ;L61
        HEX 8080808080808080 ;L62
        HEX 0000000000000000 ;L63
        HEX 8080808080808080 ;L64
        HEX 2828282828282828 ;L65
        HEX A8A8A8A8A8A8A8A8 ;L66
        HEX 2828282828282828 ;L67
        HEX A8A8A8A8A8A8A8A8 ;L68
        HEX 2828282828282828 ;L69
        HEX A8A8A8A8A8A8A8A8 ;L70
        HEX 2828282828282828 ;L71
        HEX A8A8A8A8A8A8A8A8 ;L72
        HEX 5050505050505050 ;L73
        HEX D0D0D0D0D0D0D0D0 ;L74
        HEX 5050505050505050 ;L75
        HEX D0D0D0D0D0D0D0D0 ;L76
        HEX 5050505050505050 ;L77
        HEX D0D0D0D0D0D0D0D0 ;L78
        HEX 5050505050505050 ;L79
        HEX D0D0D0D0D0D0D0D0 ;L80

YVERTH  HEX 2024282C3034383C ;L82
        HEX 2024282C3034383C ;L83
        HEX 2125292D3135393D ;L84
        HEX 2125292D3135393D ;L85
        HEX 22262A2E32363A3E ;L86
        HEX 22262A2E32363A3E ;L87
        HEX 23272B2F33373B3F ;L88
        HEX 23272B2F33373B3F ;L89
        HEX 2024282C3034383C ;L90
        HEX 2024282C3034383C ;L91
        HEX 2125292D3135393D ;L92
        HEX 2125292D3135393D ;L93
        HEX 22262A2E32363A3E ;L94
        HEX 22262A2E32363A3E ;L95
        HEX 23272B2F33373B3F ;L96
        HEX 23272B2F33373B3F ;L97
        HEX 2024282C3034383C ;L98
        HEX 2024282C3034383C ;L99
        HEX 2125292D3135393D ;L100
        HEX 2125292D3135393D ;L101
        HEX 22262A2E32363A3E ;L102
        HEX 22262A2E32363A3E ;L103
        HEX 23272B2F33373B3F ;L104
        HEX 23272B2F33373B3F ;L105

SHIP    HEX 8000008200008200 ;L106
        HEX 008A0000AAD580AA ;L107
        HEX 9582AAD58AA8D5AA ;L108
BACKGRD HEX 0000000000000000
        HEX 0000000000000000
        HEX 0000000000000000

; ****** END CODE FOR XOR SHIP ******
